<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>SwitchBot操作</title>
</head>
<body>
  <h1>SwitchBot操作ページ</h1>
  <button onclick="pressBot()">押す！</button>

  <script>
    async function pressBot() {
      const token = "3b036c06f99697a1d52325a61bf53b49051c6439f0303503df1180bb4b826cd847f7b0fc4fc4e6a79603f1e7a3981b5b"; // ← Step1で取得したトークン
      const deviceId = "EE2E03C67770";       // ← Step2で取得したボットのID

      const url = `https://api.switch-bot.com/v1.1/devices/${deviceId}/commands`;

      const body = {
        command: "press",
        parameter: "default",
        commandType: "command"
      };

      await fetch(url, {
        method: "POST",
        headers: {
          "Authorization": token,
          "Content-Type": "application/json"
        },
        body: JSON.stringify(body)
      });

      alert("ボットを押しました！");
    }
  </script>
</body>
</html>
